import{Ga as f,Ha as _,Ia as p,Ja as x,Ka as h,Pa as r,Qa as l,Ra as v,S as u,Sa as C,T as b,Ta as F,Ua as M,Va as s,Wa as d,Xa as m,Ya as k,ma as E,na as c,wa as g}from"./chunk-6D6YVWDB.js";function w(o,e){if(o&1&&(r(0,"div",6),d(1),l()),o&2){let t=s().$implicit;c(),m(t)}}function O(o,e){if(o&1&&(r(0,"div",7),d(1),l()),o&2){let t=s().$implicit;c(),m(t)}}function S(o,e){if(o&1&&(r(0,"div",8),d(1),l()),o&2){let t=s().$implicit;c(),m(t)}}function T(o,e){if(o&1&&(r(0,"div",9),d(1),l()),o&2){let t=s().$implicit;c(),m(t)}}function y(o,e){if(o&1&&(r(0,"div",10),d(1),l()),o&2){let t=s().$implicit;c(),m(t)}}function I(o,e){if(o&1&&(r(0,"div",11),d(1),l()),o&2){let t=s().$implicit;c(),m(t)}}function P(o,e){if(o&1&&(r(0,"div",12),d(1),l()),o&2){let t=s().$implicit;c(),m(t)}}function $(o,e){if(o&1&&(r(0,"div",13),d(1),l()),o&2){let t=s().$implicit;c(),m(t)}}function z(o,e){if(o&1&&(r(0,"div",14),d(1),l()),o&2){let t=s().$implicit;c(),m(t)}}function B(o,e){if(o&1&&(r(0,"div",15),d(1),l()),o&2){let t=s().$implicit;c(),m(t)}}function D(o,e){if(o&1&&(r(0,"div",16),d(1),l()),o&2){let t=s().$implicit;c(),m(t)}}function R(o,e){o&1&&v(0,"div",17)}function j(o,e){if(o&1&&f(0,w,2,1,"div",6)(1,O,2,1,"div",7)(2,S,2,1,"div",8)(3,T,2,1,"div",9)(4,y,2,1,"div",10)(5,I,2,1,"div",11)(6,P,2,1,"div",12)(7,$,2,1,"div",13)(8,z,2,1,"div",14)(9,B,2,1,"div",15)(10,D,2,1,"div",16)(11,R,1,0,"div",17),o&2){let t,i=e.$implicit;_((t=i)===2?0:t===4?1:t===8?2:t===16?3:t===32?4:t===64?5:t===128?6:t===256?7:t===512?8:t===1024?9:t===2048?10:11)}}function L(o,e){if(o&1&&(r(0,"div",4),x(1,j,12,1,null,null,p),l()),o&2){let t=e.$implicit;c(),h(t)}}function A(o,e){if(o&1){let t=C();r(0,"div",5)(1,"h2",18),d(2,"Game Over!"),l(),v(3,"br"),r(4,"button",19),M("click",function(){u(t);let n=s();return b(n.restart())}),d(5,"Restart"),l()()}}var G=class o{board=[[0,0,0,0],[0,2,0,0],[0,0,0,0],[0,0,0,0]];score=0;gameOver=!1;stateChange=!1;restart(){this.board=[[0,0,0,0],[0,2,0,0],[0,0,0,0],[0,0,0,0]],this.score=0,this.gameOver=!1}moveUp(){for(let e=0;e<4;e++){let t=0;for(let i=0;i<4;i++){let n=this.board[i][e];if(n==0)continue;this.board[i][e]=0;let a=this.board[t][e];a!=n&&a!=0&&t++,this.board[t][e]+=n,this.score=Math.max(this.score,this.board[t][e]),a==n&&t++}}}moveDown(){for(let e=0;e<4;e++){let t=3;for(let i=3;i>=0;i--){let n=this.board[i][e];if(n==0)continue;this.board[i][e]=0;let a=this.board[t][e];a!=n&&a!=0&&t--,this.board[t][e]+=n,this.score=Math.max(this.score,this.board[t][e]),a==n&&t--}}}moveLeft(){for(let e=0;e<4;e++){let t=0;for(let i=0;i<4;i++){let n=this.board[e][i];if(n==0)continue;this.board[e][i]=0;let a=this.board[e][t];a!=n&&a!=0&&t++,this.board[e][t]+=n,this.score=Math.max(this.score,this.board[e][t]),a==n&&t++}}}moveRight(){for(let e=0;e<4;e++){let t=3;for(let i=3;i>=0;i--){let n=this.board[e][i];if(n==0)continue;this.board[e][i]=0;let a=this.board[e][t];a!=n&&a!=0&&t--,this.board[e][t]+=n,this.score=Math.max(this.score,this.board[e][t]),a==n&&t--}}}addRandomTile(){let e=Math.floor(Math.random()*4),t=Math.floor(Math.random()*4),i=Math.random()<.9?2:4;for(;this.board[e][t]!=0;)e=Math.floor(Math.random()*4),t=Math.floor(Math.random()*4);this.board[e][t]=i}isGameOver(){for(let e of this.board)for(let t of e)if(t==0)return!1;return!0}updateState(e){if(this.gameOver)return;let t=this.board.map(i=>[...i]);switch(e.key){case"ArrowUp":this.moveUp();break;case"ArrowDown":this.moveDown();break;case"ArrowLeft":this.moveLeft();break;case"ArrowRight":this.moveRight();break;default:return}if(this.stateChange=JSON.stringify(t)!==JSON.stringify(this.board),this.isGameOver()){this.gameOver=!0;return}this.stateChange&&this.addRandomTile()}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=g({type:o,selectors:[["app-g2048"]],hostBindings:function(t,i){t&1&&F("keydown",function(a){return i.updateState(a)},E)},decls:10,vars:2,consts:[[1,"text-center"],[1,"container","position-relative",2,"height","600px"],[1,"position-absolute","top-50","start-50","translate-middle"],[1,"board"],[1,"row"],[1,"position-absolute","top-50","start-50","translate-middle","text-center",2,"background-color","white","padding","20px","border","1px solid green","width","200px"],[1,"col","cell","color2"],[1,"col","cell","color4"],[1,"col","cell","color8"],[1,"col","cell","color16"],[1,"col","cell","color32"],[1,"col","cell","color64"],[1,"col","cell","color128"],[1,"col","cell","color256"],[1,"col","cell","color512"],[1,"col","cell","color1024"],[1,"col","cell","color2048"],[1,"col","cell"],[1,"text-info"],[1,"btn","btn-outline-primary",3,"click"]],template:function(t,i){t&1&&(r(0,"h1",0),d(1,"2048 Game"),l(),r(2,"div",1)(3,"div",2)(4,"h2",0),d(5),l(),r(6,"div",3),x(7,L,3,0,"div",4,p),f(9,A,6,0,"div",5),l()()()),t&2&&(c(5),k("Score: ",i.score),c(2),h(i.board),c(2),_(i.gameOver?9:-1))},styles:[".cell[_ngcontent-%COMP%]{width:60px;height:60px;border:1px solid #000000;display:flex;justify-content:center;align-items:center;background-color:#4e4e4e}.color2[_ngcontent-%COMP%]{background-color:#443728;color:#fff;font-size:30px}.color4[_ngcontent-%COMP%]{background-color:#c2b280;color:#fff;font-size:30px}.color8[_ngcontent-%COMP%]{background-color:#ffb74d;color:#fff;font-size:30px}.color16[_ngcontent-%COMP%]{background-color:#ff9800;color:#fff;font-size:30px}.color32[_ngcontent-%COMP%]{background-color:#f57c20;color:#fff;font-size:30px}.color64[_ngcontent-%COMP%]{background-color:#ef6c00;color:#fff;font-size:30px}.color128[_ngcontent-%COMP%]{background-color:#e65100;color:#fff;font-size:25px}.color256[_ngcontent-%COMP%]{background-color:#d84315;color:#fff;font-size:25px}.color512[_ngcontent-%COMP%]{background-color:#c62828;color:#fff;font-size:25px}.color1024[_ngcontent-%COMP%]{background-color:#b71c1c;color:#fff;font-size:20px}.color2048[_ngcontent-%COMP%]{background-color:#880e4f;color:#fff;font-size:20px}"]})};export{G as G2048};
